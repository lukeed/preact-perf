!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(1),i=n(3),u=o(i);(0,r.render)((0,r.h)(u.default,null),document.getElementById("todoapp"))},function(t,e,n){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,n){var o,r,i,u,a=[];for(u=arguments.length;u-- >2;)I.push(arguments[u]);for(n&&n.children&&(I.length||I.push(n.children),delete n.children);I.length;)if((r=I.pop())instanceof Array)for(u=r.length;u--;)I.push(r[u]);else null!=r&&r!==!1&&("number"!=typeof r&&r!==!0||(r=String(r)),i="string"==typeof r,i&&o?a[a.length-1]+=r:(a.push(r),o=i));var l=new e(t,n||void 0,a);return B.vnode&&B.vnode(l),l}function o(t,e){if(e)for(var n in e)t[n]=e[n];return t}function r(t){return o({},t)}function i(t,e){for(var n=e.split("."),o=0;o<n.length&&t;o++)t=t[n[o]];return t}function u(t){return"function"==typeof t}function a(t){return"string"==typeof t}function l(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function c(t,e){return n(t.nodeName,o(r(t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function s(t,e,n){var o=e.split(".");return function(e){for(var r=e&&e.target||this,u={},l=u,c=a(n)?i(e,n):r.nodeName?r.type.match(/^che|rad/)?r.checked:r.value:e,s=0;s<o.length-1;s++)l=l[o[s]]||(l[o[s]]=!s&&t.state[o[s]]||{});l[o[s]]=c,t.setState(u)}}function f(t){!t._dirty&&(t._dirty=!0)&&1==J.push(t)&&(B.debounceRendering||$)(p)}function p(){var t,e=J;for(J=[];t=e.pop();)t._dirty&&A(t)}function d(t){var e=t&&t.nodeName;return e&&u(e)&&!(e.prototype&&e.prototype.render)}function h(t,e){return t.nodeName(g(t),e||V)}function m(t,e){return a(e)?t instanceof Text:a(e.nodeName)?!t._componentConstructor&&v(t,e.nodeName):u(e.nodeName)?!t._componentConstructor||t._componentConstructor===e.nodeName||d(e):void 0}function v(t,e){return t.normalizedNodeName===e||K(t.nodeName)===K(e)}function g(t){var e=r(t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(n)for(var o in n)void 0===e[o]&&(e[o]=n[o]);return e}function y(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,n,o,r){if("className"===e&&(e="class"),"class"===e&&o&&"object"==typeof o&&(o=l(o)),"key"===e);else if("class"!==e||r)if("style"===e){if((!o||a(o)||a(n))&&(t.style.cssText=o||""),o&&"object"==typeof o){if(!a(n))for(var i in n)i in o||(t.style[i]="");for(var i in o)t.style[i]="number"!=typeof o[i]||F[i]?o[i]:o[i]+"px"}}else if("dangerouslySetInnerHTML"===e)t.innerHTML=o&&o.__html||"";else if("o"==e[0]&&"n"==e[1]){var c=t._listeners||(t._listeners={});e=K(e.substring(2)),o?c[e]||t.addEventListener(e,C,!!G[e]):c[e]&&t.removeEventListener(e,C,!!G[e]),c[e]=o}else if("list"!==e&&"type"!==e&&!r&&e in t)_(t,e,null==o?"":o),null!=o&&o!==!1||t.removeAttribute(e);else{var s=r&&e.match(/^xlink\:?(.+)/);null==o||o===!1?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",K(s[1])):t.removeAttribute(e):"object"==typeof o||u(o)||(s?t.setAttributeNS("http://www.w3.org/1999/xlink",K(s[1]),o):t.setAttribute(e,o))}else t.className=o||""}function _(t,e,n){try{t[e]=n}catch(t){}}function C(t){return this._listeners[t.type](B.event&&B.event(t)||t)}function x(t){if(y(t),t instanceof Element){t._component=t._componentConstructor=null;var e=t.normalizedNodeName||K(t.nodeName);(q[e]||(q[e]=[])).push(t)}}function S(t,e){var n=K(t),o=q[n]&&q[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return o.normalizedNodeName=n,o}function k(){for(var t;t=Q.pop();)B.afterMount&&B.afterMount(t),t.componentDidMount&&t.componentDidMount()}function w(t,e,n,o,r,i){X++||(Y=r instanceof SVGElement,Z=t&&!(H in t));var u=N(t,e,n,o);return r&&u.parentNode!==r&&r.appendChild(u),--X||(Z=!1,i||k()),u}function N(t,e,n,o){for(var r=e&&e.attributes;d(e);)e=h(e,n);if(null==e&&(e=""),a(e))return t&&t instanceof Text?t.nodeValue!=e&&(t.nodeValue=e):(t&&U(t),t=document.createTextNode(e)),t[H]=!0,t;if(u(e.nodeName))return D(t,e,n,o);var i=t,l=String(e.nodeName),c=Y,s=e.children;if(Y="svg"===l||"foreignObject"!==l&&Y,t){if(!v(t,l)){for(i=S(l,Y);t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),U(t)}}else i=S(l,Y);var f=i.firstChild,p=i[H];if(!p){i[H]=p={};for(var m=i.attributes,g=m.length;g--;)p[m[g].name]=m[g].value}return j(i,e.attributes,p),!Z&&s&&1===s.length&&"string"==typeof s[0]&&f&&f instanceof Text&&!f.nextSibling?f.nodeValue!=s[0]&&(f.nodeValue=s[0]):(s&&s.length||f)&&O(i,s,n,o),r&&"function"==typeof r.ref&&(p.ref=r.ref)(i),Y=c,i}function O(t,e,n,o){var r,i,u,a,l=t.childNodes,c=[],s={},f=0,p=0,d=l.length,h=0,v=e&&e.length;if(d)for(var g=0;g<d;g++){var b=l[g],_=b[H],C=v?(i=b._component)?i.__key:_?_.key:null:null;null!=C?(f++,s[C]=b):(Z||_)&&(c[h++]=b)}if(v)for(var g=0;g<v;g++){u=e[g],a=null;var C=u.key;if(null!=C)f&&C in s&&(a=s[C],s[C]=void 0,f--);else if(!a&&p<h)for(r=p;r<h;r++)if(i=c[r],i&&m(i,u)){a=i,c[r]=void 0,r===h-1&&h--,r===p&&p++;break}a=N(a,u,n,o),a&&a!==t&&(g>=d?t.appendChild(a):a!==l[g]&&(a===l[g+1]&&y(l[g]),t.insertBefore(a,l[g]||null)))}if(f)for(var g in s)s[g]&&U(s[g]);for(;p<=h;)a=c[h--],a&&U(a)}function U(t,e){var n=t._component;if(n)R(n,!e);else{t[H]&&t[H].ref&&t[H].ref(null),e||x(t);for(var o;o=t.lastChild;)U(o,e)}}function j(t,e,n){for(var o in n)e&&o in e||null==n[o]||b(t,o,n[o],n[o]=void 0,Y);if(e)for(var r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||b(t,r,n[r],n[r]=e[r],Y)}function T(t){var e=t.constructor.name,n=tt[e];n?n.push(t):tt[e]=[t]}function M(t,e,n){var o=new t(e,n),r=tt[t.name];if(E.call(o,e,n),r)for(var i=r.length;i--;)if(r[i].constructor===t){o.nextBase=r[i].nextBase,r.splice(i,1);break}return o}function P(t,e,n,o,r){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||r?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,o),o&&o!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=o),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&B.syncComponentUpdates===!1&&t.base?f(t):A(t,1,r)),t.__ref&&t.__ref(t))}function A(t,e,n,i){if(!t._disable){var a,l,c,s,f=t.props,p=t.state,m=t.context,v=t.prevProps||f,y=t.prevState||p,b=t.prevContext||m,_=t.base,C=t.nextBase,x=_||C,S=t._component;if(_&&(t.props=v,t.state=y,t.context=b,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(f,p,m)===!1?a=!0:t.componentWillUpdate&&t.componentWillUpdate(f,p,m),t.props=f,t.state=p,t.context=m),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!a){for(t.render&&(l=t.render(f,p,m)),t.getChildContext&&(m=o(r(m),t.getChildContext()));d(l);)l=h(l,m);var N,O,j=l&&l.nodeName;if(u(j)){var T=g(l);c=S,c&&c.constructor===j&&T.key==c.__key?P(c,T,1,m):(N=c,c=M(j,T,m),c.nextBase=c.nextBase||C,c._parentComponent=t,t._component=c,P(c,T,0,m),A(c,1,n,!0)),O=c.base}else s=x,N=S,N&&(s=t._component=null),(x||1===e)&&(s&&(s._component=null),O=w(s,l,m,n||!_,x&&x.parentNode,!0));if(x&&O!==x&&c!==S){var D=x.parentNode;D&&O!==D&&(D.replaceChild(O,x),N||(x._component=null,U(x)))}if(N&&R(N,O!==x),t.base=O,O&&!i){for(var E=t,W=t;W=W._parentComponent;)(E=W).base=O;O._component=E,O._componentConstructor=E.constructor}}!_||n?Q.unshift(t):a||(t.componentDidUpdate&&t.componentDidUpdate(v,y,b),B.afterUpdate&&B.afterUpdate(t));var I,L=t._renderCallbacks;if(L)for(;I=L.pop();)I.call(t);X||i||k()}}function D(t,e,n,o){for(var r=t&&t._component,i=t,u=r&&t._componentConstructor===e.nodeName,a=u,l=g(e);r&&!a&&(r=r._parentComponent);)a=r.constructor===e.nodeName;return r&&a&&(!o||r._component)?(P(r,l,3,n,o),t=r.base):(r&&!u&&(R(r,!0),t=i=null),r=M(e.nodeName,l,n),t&&!r.nextBase&&(r.nextBase=t,i=null),P(r,l,1,n,o),t=r.base,i&&t!==i&&(i._component=null,U(i))),t}function R(t,e){B.beforeUnmount&&B.beforeUnmount(t);var n=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var o=t._component;if(o)R(o,e);else if(n){n[H]&&n[H].ref&&n[H].ref(null),t.nextBase=n,e&&(y(n),T(t));for(var r;r=n.lastChild;)U(r,!e)}t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function E(t,e){this._dirty=!0,this.context=e,this.props=t,this.state||(this.state={})}function W(t,e,n){return w(n,t,{},!1,e)}var B={},I=[],L={},K=function(t){return L[t]||(L[t]=t.toLowerCase())},z="undefined"!=typeof Promise&&Promise.resolve(),$=z?function(t){z.then(t)}:setTimeout,V={},H="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",F={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},G={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},J=[],q={},Q=[],X=0,Y=!1,Z=!1,tt={};o(E.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={});return n[t+e]||(n[t+e]=s(this,t,e))},setState:function(t,e){var n=this.state;this.prevState||(this.prevState=r(n)),o(n,u(t)?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),f(this)},forceUpdate:function(){A(this,2)},render:function(){}}),t.h=n,t.cloneElement=c,t.Component=E,t.render=W,t.rerender=p,t.options=B})},function(t,e){"use strict";function n(){for(var t="",e=0;e<32;e++){var n=16*Math.random()|0;8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&n|8:n).toString(16)}return t}function o(t,e){return 1===t?e:e+"s"}function r(t,e){if(e)return localStorage.setItem(t,JSON.stringify(e));var n=localStorage.getItem(t);return n&&JSON.parse(n)||[]}e.__esModule=!0,e.uuid=n,e.pluralize=o,e.store=r},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t){}function i(t,e){}function u(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){"function"!=typeof e&&null!==e||(t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e))}e.__esModule=!0;var l,c=n(1),s=n(8),f=o(s),p=n(7),d=o(p),h=n(5),m=o(h),v=n(4),g=o(v),y=n(6),b=o(y),_="all",C="active",x="completed",S=(l={},l[_]=function(t){return!0},l[C]=function(t){return!t.completed},l[x]=function(t){return t.completed},l),k=function(t){function e(){var n,o,r;i(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=u(this,t.call.apply(t,[this].concat(l))),o.model=(0,d.default)(),o.state={todos:o.model.todos,nowShowing:_},o.handleRoute=function(t){var e=t.url,n=e.replace(/\/$/,"").split("/").pop();S[n]||(n=_),o.setState({nowShowing:n})},o.toggleAll=function(t){o.model.toggleAll(t.target.checked)},o.save=function(t,e){o.model.save(t,e),o.reset()},o.reset=function(){o.setState({editing:null})},r=n,u(o,r)}return a(e,t),e.prototype.componentWillMount=function(){this.model.subscribe(this.linkState("todos","todos"))},e.prototype.render=function(t,e){var n=this,o=e.nowShowing,i=void 0===o?_:o,u=e.todos,a=(e.newTodo,e.editing);r(t);var l=u.filter(S[i]),s=u.reduce(function(t,e){return t+(e.completed?0:1)},0),p=u.length-s;return(0,c.h)("div",null,(0,c.h)(f.default,{onChange:this.handleRoute},(0,c.h)(w,{path:"/"})),(0,c.h)(m.default,{addTodo:this.model.addTodo}),u.length?(0,c.h)("section",{id:"main"},(0,c.h)("input",{id:"toggle-all",type:"checkbox",onChange:this.toggleAll,checked:0===s}),(0,c.h)("ul",{id:"todo-list"},l.map(function(t){return(0,c.h)(b.default,{key:t.id,todo:t,onToggle:n.model.toggle,onDestroy:n.model.destroy,editing:a===t.id,onEdit:n.linkState("editing","id"),onSave:n.save,onCancel:n.reset})}))):null,s||p?(0,c.h)(g.default,{count:s,completedCount:p,nowShowing:i,onClearCompleted:this.model.clearCompleted}):null)},e}(c.Component);e.default=k;var w=function(){return null}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(1),r=n(2),i="all",u="active",a="completed";e.default=function(t){var e=t.nowShowing,n=t.count,l=t.completedCount,c=t.onClearCompleted;return(0,o.h)("footer",{id:"footer"},(0,o.h)("span",{id:"todo-count"},(0,o.h)("strong",null,n)," ",(0,r.pluralize)(n,"item")," left"),(0,o.h)("ul",{id:"filters"},(0,o.h)("li",null,(0,o.h)("a",{href:"/",class:{selected:e===i}},"All"))," ",(0,o.h)("li",null,(0,o.h)("a",{href:"/active",class:{selected:e===u}},"Active"))," ",(0,o.h)("li",null,(0,o.h)("a",{href:"/completed",class:{selected:e===a}},"Completed"))),l>0?(0,o.h)("button",{id:"clear-completed",onClick:c},"Clear completed"):null)}},function(t,e,n){"use strict";function o(t){}function r(t,e){}function i(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){"function"!=typeof e&&null!==e||(t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e))}e.__esModule=!0;var a=n(1),l=13,c=function(t){function e(){var n,o,u;r(this,e);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=o=i(this,t.call.apply(t,[this].concat(c))),o.handleKey=function(t){if(t.keyCode===l){t.preventDefault();var e=o.state.text.trim();e&&(o.props.addTodo(e),o.setState({text:""}))}},u=n,i(o,u)}return u(e,t),e.prototype.render=function(t,e){var n=e.text;return o(t),(0,a.h)("header",{id:"header"},(0,a.h)("h1",null,"todos"),(0,a.h)("input",{id:"new-todo",placeholder:"What needs to be done?",value:n,onKeyDown:this.handleKey,onInput:this.linkState("text"),autoFocus:!0}))},e}(a.Component);e.default=c},function(t,e,n){"use strict";function o(t,e){}function r(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){"function"!=typeof e&&null!==e||(t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e))}e.__esModule=!0;var u=n(1),a=27,l=13,c=function(t){function e(){var n,i,u;o(this,e);for(var c=arguments.length,s=Array(c),f=0;f<c;f++)s[f]=arguments[f];return n=i=r(this,t.call.apply(t,[this].concat(s))),i.handleSubmit=function(){var t=i.state.editText.trim(),e=i.props,n=e.todo,o=e.onSave,r=e.onDestroy;t?(o(n,t),i.setState({editText:t})):r(n)},i.handleEdit=function(){var t=i.props,e=t.todo,n=t.onEdit;n(e),i.setState({editText:e.title})},i.toggle=function(t){var e=i.props,n=e.todo,o=e.onToggle;o(n),t.preventDefault()},i.handleKeyDown=function(t){var e=i.props,n=e.todo,o=e.onCancel;t.which===a?(i.setState({editText:n.title}),o(n)):t.which===l&&i.handleSubmit(n)},i.destroy=function(){var t=i.props,e=t.todo,n=t.onDestroy;n(e)},u=n,r(i,u)}return i(e,t),e.prototype.focus=function(t){t&&setTimeout(function(){return t.focus()},1)},e.prototype.render=function(t,e){var n=t.todo,o=n.title,r=n.completed,i=t.editing,a=e.editText;return(0,u.h)("li",{class:{completed:r,editing:i}},(0,u.h)("div",{class:"view"},(0,u.h)("input",{class:"toggle",type:"checkbox",checked:r||0,onClick:this.toggle}),(0,u.h)("label",{onDblClick:this.handleEdit},o),(0,u.h)("button",{class:"destroy",onClick:this.destroy})),i&&(0,u.h)("input",{ref:this.focus,class:"edit",value:i&&a||o,onBlur:this.handleSubmit,onChange:this.linkState("editText"),onKeyDown:this.handleKeyDown}))},e}(u.Component);e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=n(2);e.default=function(){function t(){for(var t=e.length;t--;)e[t](n)}var e=[],n={todos:[],onChanges:[],subscribe:function(t){e.push(t)},addTodo:function(e){n.todos=n.todos.concat({id:(0,r.uuid)(),title:e,completed:!1}),t()},toggleAll:function(e){n.todos=n.todos.map(function(t){return o({},t,{completed:e})}),t()},toggle:function(e){n.todos=n.todos.map(function(t){return t!==e?t:o({},t,{completed:!t.completed})}),t()},destroy:function(e){n.todos=n.todos.filter(function(t){return t!==e}),t()},save:function(e,r){n.todos=n.todos.map(function(t){return t!==e?t:o({},t,{title:r})}),t()},clearCompleted:function(){n.todos=n.todos.filter(function(t){return!t.completed}),t()}};return n}},function(t,e,n){!function(e,o){t.exports=o(n(1))}(this,function(t){"use strict";function e(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b,r=/(?:\?([^#]*))?(#.*)?$/,i=t.match(r),u={},a=void 0;if(i&&i[1])for(var l=i[1].split("&"),c=0;c<l.length;c++){var s=l[c].split("=");u[decodeURIComponent(s[0])]=decodeURIComponent(s.slice(1).join("="))}t=o(t.replace(r,"")),e=o(e||"");for(var f=Math.max(t.length,e.length),p=0;p<f;p++)if(e[p]&&":"===e[p].charAt(0)){var d=e[p].replace(/(^\:|[+*?]+$)/g,""),h=(e[p].match(/[+*?]+$/)||b)[0]||"",m=~h.indexOf("+"),v=~h.indexOf("*"),g=t[p]||"";if(!g&&!v&&(h.indexOf("?")<0||m)){a=!1;break}if(u[d]=decodeURIComponent(g),m||v){u[d]=t.slice(p).map(decodeURIComponent).join("/");break}}else if(e[p]!==t[p]){a=!1;break}return(n.default===!0||a!==!1)&&u}function n(t,e){var n=t.attributes||b,o=e.attributes||b;if(n.default)return 1;if(o.default)return-1;var i=r(n.path)-r(o.path);return i||n.path.length-o.path.length}function o(t){return i(t).split("/")}function r(t){return(i(t).match(/\/+/g)||"").length}function i(t){return t.replace(/(^\/+|\/+$)/g,"")}function u(t,e){}function a(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){"function"!=typeof e&&null!==e||(t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e))}function c(t){return k in t}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";C&&C[e]?C[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}function f(){var t=void 0;return t=C&&C.location?C.location:C&&C.getCurrentLocation?C.getCurrentLocation():"undefined"!=typeof location?location:S,""+(t.pathname||"")+(t.search||"")}function p(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),d(t)&&s(t,e?"replace":"push"),h(t)}function d(t){for(var e=x.length;e--;)if(x[e].canRoute(t))return!0;return!1}function h(t){for(var e=!1,n=0;n<x.length;n++)x[n].routeTo(t)===!0&&(e=!0);return e}function m(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return p(e)}}function v(t){if(0===t.button)return m(t.currentTarget||t.target||this),g(t)}function g(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function y(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var e=t.target;do if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")&&c(e)){if(0!==t.button)return;if(m(e))return g(t)}while(e=e.parentNode)}}var b={},_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},C=null,x=[],S={},k="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_";"function"==typeof addEventListener&&(addEventListener("popstate",function(){return h(f())}),addEventListener("click",y));var w=function(e){return t.h("a",_({},e,{onClick:v}))},N=function(t){function o(e){u(this,o);var n=a(this,t.call(this,e));return e.history&&(C=e.history),n.state={url:n.props.url||f()},n}return l(o,t),o.prototype.shouldComponentUpdate=function(t){return t.static!==!0||(t.url!==this.props.url||t.onChange!==this.props.onChange)},o.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},o.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},o.prototype.componentWillMount=function(){x.push(this),this.updating=!0},o.prototype.componentDidMount=function(){this.updating=!1},o.prototype.componentWillUnmount=function(){x.splice(x.indexOf(this),1)},o.prototype.componentWillUpdate=function(){this.updating=!0},o.prototype.componentDidUpdate=function(){this.updating=!1},o.prototype.getMatchingChildren=function(t,o,r){return t.slice().sort(n).filter(function(t){var n=t.attributes,i=n.path,u=e(o,i,n);if(u){if(r!==!1){n.url=o,n.matches=u;for(var a in u)u.hasOwnProperty(a)&&(n[a]=u[a])}return!0}})},o.prototype.render=function(t,e){var n=t.children,o=t.onChange,r=e.url,i=this.getMatchingChildren(n,r,!0),u=i[0]||null;this._didRoute=!!u;var a=this.previousUrl;return r!==a&&(this.previousUrl=r,"function"==typeof o&&o({router:this,url:r,previous:a,active:i,current:u})),u},o}(t.Component),O=function(e){var n=e.component,o=e.url,r=e.matches;return t.h(n,{url:o,matches:r})};return N.route=p,N.Router=N,N.Route=O,N.Link=w,N})}]);
//# sourceMappingURL=bundle.js.map